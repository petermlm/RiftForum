FROM ubuntu:18.04

# Install Go
RUN apt update --fix-missing && \
    apt -qq -y install golang git

# Install Go Dependencies
RUN go get github.com/gorilla/mux
RUN go get github.com/urfave/negroni
RUN go get github.com/go-pg/pg
RUN go get github.com/go-pg/pg/orm
RUN go get github.com/auth0/go-jwt-middleware
RUN go get github.com/dgrijalva/jwt-go

# Working directory is the project's directory
RUN mkdir -p /app
WORKDIR /app

# Add project and compile
ADD . /app
RUN cd src && go build *.go
